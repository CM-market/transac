###############################################################################
# Transac backend .env example
# Copy to .env and adjust values for your environment
###############################################################################

########################################
# Database
########################################
# Required by src/config.rs (Config::from_env)
# Format: postgres://<user>:<password>@<host>:<port>/<db>
DATABASE_URL=postgres://transac_user:password@localhost:5432/transac_db

########################################
# Proof-of-Work (PoW)
########################################
# Optional – defaults used if not set (see src/config.rs)
# POW_DIFFICULTY default: 4
POW_DIFFICULTY=4
# POW_TIMEOUT_MINUTES default: 10
POW_TIMEOUT_MINUTES=10

########################################
# Database Migrations
########################################
# Optional – run SeaORM migrations automatically on startup
# RUN_MIGRATIONS_ON_START default: false
RUN_MIGRATIONS_ON_START=false

########################################
# JWT Authentication
########################################
# Optional – default is a placeholder; set a strong secret in production
# Used by src/auth/jwt_service.rs
JWT_SECRET=change-me-in-production-please

########################################
# Logging
########################################
# Optional – tracing_subscriber EnvFilter will pick this up if set
# Example values: error, warn, info, debug, trace or module-specific filters
RUST_LOG=transac=info,tower_http=info,axum::routing=info

########################################
# Object Storage (S3/MinIO)
########################################
# Required to enable media upload/serve via S3/MinIO
# Used by src/api/media_storage.rs and src/main.rs

# Access credentials
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin

# Endpoint and region
# AWS_ENDPOINT_URL defaults to http://localhost:9000 if not set (good for local MinIO)
AWS_ENDPOINT_URL=http://localhost:9000
# AWS_REGION defaults to us-east-1 if not set
AWS_REGION=us-east-1

# Bucket name (default: transac-media)
S3_BUCKET_NAME=transac-media

########################################
# Notes
########################################
# - If you run MinIO locally using the provided docker-compose, the defaults above
#   should work (minio running on :9000 with default credentials).
# - For AWS S3, set AWS_ENDPOINT_URL to the real S3 endpoint for your region or
#   omit it and rely on the AWS SDK’s defaults, and provide real credentials.
# - Ensure DATABASE_URL points to a reachable Postgres instance.